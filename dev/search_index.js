var documenterSearchIndex = {"docs":
[{"location":"lib/private/#Internal-Documentation-1","page":"Internals","title":"Internal Documentation","text":"","category":"section"},{"location":"lib/private/#","page":"Internals","title":"Internals","text":"Documentation for LAP_julia.jl's internal interface.","category":"page"},{"location":"lib/private/#Functions-1","page":"Internals","title":"Functions","text":"","category":"section"},{"location":"lib/private/#","page":"Internals","title":"Internals","text":"Modules = [LAP_julia, LAP_julia.lap, LAP_julia.visualise, LAP_julia.inpaint, LAP_julia.gradient_points, LAP_julia.data_gen, LAP_julia.interpolation]\nPublic = false","category":"page"},{"location":"lib/private/#LAP_julia.angle_mean_error-Tuple{Any,Any}","page":"Internals","title":"LAP_julia.angle_mean_error","text":"function angle_mean_error(x, y)\n\nCalculate the mean error in angle between x and y. Output in degrees.\n\n\n\n\n\n","category":"method"},{"location":"lib/private/#LAP_julia.angle_rms-Tuple{Any,Any}","page":"Internals","title":"LAP_julia.angle_rms","text":"function angle_rms(x, y)\n\nCalculate the root mean square error in angle between x and y. Output in degrees.\n\n\n\n\n\n","category":"method"},{"location":"lib/private/#LAP_julia.inds_to_points-Tuple{Array{CartesianIndex,1}}","page":"Internals","title":"LAP_julia.inds_to_points","text":"inds_to_points(inds::Array{CartesianIndex, 1})\n\nTransform an array of CartersianIndexes to an array of where each column is a vector of indices of the input array.\n\n\n\n\n\n","category":"method"},{"location":"lib/private/#LAP_julia.mse-Tuple{Any,Any}","page":"Internals","title":"LAP_julia.mse","text":"function mse(x, y)\n\nCalculates the mean squared error between x and y.\n\n\n\n\n\n","category":"method"},{"location":"lib/private/#LAP_julia.pad_images-Tuple{Array{T,2} where T<:Real,Array{T,2} where T<:Real}","page":"Internals","title":"LAP_julia.pad_images","text":"pad_images(image1::Image, image2::Image)\n\nAdds zeros to the right and bottom of image1 and image2 to make them the same size.\n\n\n\n\n\n","category":"method"},{"location":"lib/private/#LAP_julia.rescale_intensities-Tuple{Array{T,2} where T<:Real,Array{T,2} where T<:Real}","page":"Internals","title":"LAP_julia.rescale_intensities","text":"rescale_intensities(image1::Image, image2::Image)\n\nRescale image1 and image2 intensities to span the whole [0, 1].\n\n\n\n\n\n","category":"method"},{"location":"lib/private/#LAP_julia.smooth_with_gaussian-Tuple{Array{#s14,2} where #s14<:Number,Any}","page":"Internals","title":"LAP_julia.smooth_with_gaussian","text":"smooth_with_gaussian(u::Matrix{<:Number}, window_half_size)\n\nClean the Matrix u by smoothing using a 2D Gaussian filter of size 2 * window_half_size + 1.\n\n\n\n\n\n","category":"method"},{"location":"lib/private/#LAP_julia.smooth_with_gaussian-Tuple{Array{#s14,2} where #s14<:Number,Integer}","page":"Internals","title":"LAP_julia.smooth_with_gaussian","text":"smooth_with_gaussian(u::Matrix{<:Number}, window_half_size_one_dim::Integer)\n\nClean the Matrix u by smoothing using a square 2D Gaussian filter of size 2 * window_half_size_one_dim + 1 in each dimension.\n\n\n\n\n\n","category":"method"},{"location":"lib/private/#LAP_julia.vec_len-Tuple{Any}","page":"Internals","title":"LAP_julia.vec_len","text":"function vec_len(x)\n\nCalculate the lenght of vector x. x is a complex number.\n\n\n\n\n\n","category":"method"},{"location":"lib/private/#LAP_julia.lap.back_substitution3d-Tuple{Any,Any}","page":"Internals","title":"LAP_julia.lap.back_substitution3d","text":"back_substitution3d(A, b)\n\nSolve the linear systems of equations C_n x_n = d_n, where the matrixes C (in row echelon form) are slices from the first 2 dimensions of A, the vectors d are the slices from the first dimension of b and n is the size of the third dimension of A. Returns the coefficients x_n as a 2D matrix coeffs, where the vectors x_n are the rows of this matrix.\n\nSee also: gem3d!, multi_mat_div2\n\n\n\n\n\n","category":"method"},{"location":"lib/private/#LAP_julia.lap.cumsum2d!-Tuple{Any,Any}","page":"Internals","title":"LAP_julia.lap.cumsum2d!","text":"cumsum2d!(result, A)\n\nCummulative sum over 2D matrix A, storing the result into result.\n\n\n\n\n\n","category":"method"},{"location":"lib/private/#LAP_julia.lap.gem3d!-Tuple{Any,Any}","page":"Internals","title":"LAP_julia.lap.gem3d!","text":"gem3d!(A, b)\n\nReduce the linear systems of equations C_n x_n = d_n to the row echelon form. The matrixes C are slices from the first 2 dimensions of A, the vectors d are the slices from the first dimension of b and n is the size of the third dimension of A.\n\nSee also: gem3d!, back_substitution3d\n\n\n\n\n\n","category":"method"},{"location":"lib/private/#LAP_julia.lap.multi_mat_div-Tuple{Any,Any}","page":"Internals","title":"LAP_julia.lap.multi_mat_div","text":"multi_mat_div(A, b)\n\nReturn E, where E[i, :] is the solutution of the least squares problem minD_ix - c_i^2 for each D_i and c_i, where D_i is A[:, :, i], c_i is b[:, i] and i is the size of the second dimension of b and third dimension of A. In other words, each row of E is the solution to one matrix from A and it's corresponding vector from b.\n\n\n\n\n\n","category":"method"},{"location":"lib/private/#LAP_julia.lap.multi_mat_div2-Tuple{Any,Any}","page":"Internals","title":"LAP_julia.lap.multi_mat_div2","text":"multi_mat_div2(A, b)\n\nSolve the linear systems of equations C_n x_n = d_n, where the matrixes C are slices from the first 2 dimensions of A, the vectors d are the slices from the first dimension of b and n is the size of the third dimension of A. Returns the coefficients x_n as a 2D matrix coeffs, where the vectors x_n are the rows of this matrix.\n\nNote: Uses Gaussian elimination and back substitution. Note: For small matrices C, this is an order of magnitude faster than\n\nSee also: gem3d!, back_substitution3d\n\n\n\n\n\n","category":"method"},{"location":"lib/private/#LAP_julia.lap.window_sum!-NTuple{4,Any}","page":"Internals","title":"LAP_julia.lap.window_sum!","text":"function window_sum!(result, pixels, img_size, window)\n\nFilter the array pixels of shape img_size with a filter that performs a sum of values of the area window with each pixel as the center. Store the result in result. The filtering uses \"symmetric\" padding.\n\nNote: For small images (around 256x256) and small filters (window of size 9 and below) is faster than window_sum3!.\n\n\n\n\n\n","category":"method"},{"location":"lib/private/#LAP_julia.lap.window_sum3!-NTuple{4,Any}","page":"Internals","title":"LAP_julia.lap.window_sum3!","text":"function window_sum3!(result, pixels, img_size, window)\n\nFilter the array pixels of shape img_size with a filter that performs a sum of values of the area window with each pixel as the center. Store the result in result. The filtering uses \"symmetric\" padding.\n\nNote: For small images (around 256x256) and large filters (window of size 11 and above) is faster than window_sum!.\n\n\n\n\n\n","category":"method"},{"location":"lib/private/#LAP_julia.gradient_points.fill_circle!-NTuple{4,Any}","page":"Internals","title":"LAP_julia.gradient_points.fill_circle!","text":"fill_circle!(mag, pos, spacing, marker)\n\nFill a circle with a radius of spacing around the point pos into the matrix mag with marker.\n\n\n\n\n\n","category":"method"},{"location":"lib/private/#LAP_julia.gradient_points.gradient_magnitude-Tuple{Any}","page":"Internals","title":"LAP_julia.gradient_points.gradient_magnitude","text":"gradient_magnitude(f)\n\nReturn the directional derivatives (components of the gradient) and the gradient mag for both color and grayscale images. For spatialorder(f)==\"xy\", grad[1] is a derivative wrt x, the first coordinate and grad[2] wrt to the second...\n\n\n\n\n\n","category":"method"},{"location":"man/guide/#Usage-1","page":"Usage","title":"Usage","text":"","category":"section"},{"location":"man/examples/examples/#Examples-1","page":"Examples","title":"Examples","text":"","category":"section"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"pages = [\"examples.md\"]\nDepth = 3","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Here I will show how the basic methods work on different kinds of displacements. I use the word displacement and flow interchangeably.","category":"page"},{"location":"man/examples/examples/#Generate-test-flows-1","page":"Examples","title":"Generate test flows","text":"","category":"section"},{"location":"man/examples/examples/#Unifrom-1","page":"Examples","title":"Unifrom","text":"","category":"section"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"using LAP_julia # hide\nusing PyPlot\n# Set some parameters:\nex_size = (256, 256)\nex_max_magnitude = 20\nex_tile_size = 999 # This makes the flow uniform\n\n# Generate a random uniform flow\nuni_flow = gen_tiled_flow(ex_size, ex_max_magnitude, ex_tile_size);\n\n# Lets check what the flow looks like:\nshowflow(uni_flow, figtitle=\"Uniform warp\")","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Check out the used functions: gen_tiled_flow, showflow","category":"page"},{"location":"man/examples/examples/#Non-uniform-Smooth-1","page":"Examples","title":"Non-uniform Smooth","text":"","category":"section"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"using LAP_julia # hide\nusing PyPlot\n# Set some parameters:\nex_size = (256, 256)\nex_max_magnitude = 20\nex_tile_size = 60\n\n# Generate a random uniform flow\nsmooth_flow = gen_tiled_flow(ex_size, ex_max_magnitude, ex_tile_size);\n\n# Lets check what the flow looks like:\nshowflow(smooth_flow, figtitle=\"Smooth warp\")","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Check out the used functions: gen_tiled_flow, showflow","category":"page"},{"location":"man/examples/examples/#Generate-test-images-1","page":"Examples","title":"Generate test images","text":"","category":"section"},{"location":"man/examples/examples/#Chessboard-1","page":"Examples","title":"Chessboard","text":"","category":"section"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Normal","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"chess = gen_chess(64, 4)\nimgshow(chess, figtitle=\"Chessboard\")","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Check out the used functions: gen_chess","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"chess = gen_chess(64, 4)","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Warped with uni_flow","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"chess_uni_warped = warp_img(chess, -real(uni_flow), -imag(uni_flow))\nimgshowflow(chess_uni_warped, uni_flow, figtitle=\"Chessboard uniform warp\")","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Warped with smooth_flow","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"chess_smooth_warped = warp_img(chess, -real(smooth_flow), -imag(smooth_flow))\nimgshowflow(chess_smooth_warped, smooth_flow, figtitle=\"Chessboard smooth warp\")","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Check out the used functions: warp_img, imgshowflow","category":"page"},{"location":"man/examples/examples/#Lena-1","page":"Examples","title":"Lena","text":"","category":"section"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Normal","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"using TestImages\nlena = testimage(\"lena_gray\")\n# The Lena image from TestImages has elements of type ColorTypes.Gray{FixedPointNumbers.Normed{UInt8,8}}\n# so to use our algorithms later we need to convert them to floats.\nlena = Float32.(lena)\n\nimgshow(lena, figtitle=\"Lena\")","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"using TestImages\nlena = testimage(\"lena_gray\")\n\n# The Lena image from TestImages has elements of type ColorTypes.Gray{FixedPointNumbers.Normed{UInt8,8}} so we convert it to Float32.\nlena = Float32.(lena)","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Warped with uni_flow","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"lena_uni_warped = warp_img(lena, -real(uni_flow), -imag(uni_flow))\nimgshowflow(lena_uni_warped, uni_flow, figtitle=\"Lena uniform warp\")","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Warped with smooth_flow","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"lena_smooth_warped = warp_img(lena, -real(smooth_flow), -imag(smooth_flow))\nimgshowflow(lena_smooth_warped, smooth_flow, figtitle=\"Lena smooth warp\")","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Check out the used functions: warp_img, imgshowflow","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"","category":"page"},{"location":"man/examples/examples/#single_lap-function-1","page":"Examples","title":"single_lap function","text":"","category":"section"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Here are examples of using the single_lap function to find the flow between the original and the warped image. I will show the results of the algorithm for an image warped by a uniform flow and a smoothly varying flow. (The code running is the same.)","category":"page"},{"location":"man/examples/examples/#Uniform-Flow-1","page":"Examples","title":"Uniform Flow","text":"","category":"section"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"This how the algorithm performs on a uniform flow. First we have to choose a filter_half_size which has to be the same or higher that the ex_max_magnitude chosen. Then we choose the window_size parameter of the algorithm, usually a list like this: [2*filter_half_size + 1, 2*filter_half_size + 1].","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"# save original\nshowflow(uni_flow, figtitle=\"Original Uniform Flow\")\nsavefig(\"orig_uni_flow.png\")","category":"page"},{"location":"man/examples/examples/#Chessboard-2","page":"Examples","title":"Chessboard","text":"","category":"section"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Run:","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"filter_half_size = 20\nwindow_size = [2*filter_half_size + 1, 2*filter_half_size + 1]\n\nestim_flow = single_lap(chess, chess_uni_warped, filter_half_size, window_size)\nnothing # hide","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Check out single_lap.","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Check the results:","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"# save estimation\nshowflow(estim_flow, figtitle=\"Single Estimated Uniform Flow\")\nsavefig(\"single_chess_estim_uni_flow.png\")\nnothing # hide","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Original Estimated\n(Image: ) (Image: )","category":"page"},{"location":"man/examples/examples/#Lena-2","page":"Examples","title":"Lena","text":"","category":"section"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Run:","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"filter_half_size = 20\nwindow_size = [2*filter_half_size + 1, 2*filter_half_size + 1]\n\nestim_flow = single_lap(lena, lena_uni_warped, filter_half_size, window_size)\nnothing # hide","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Check out single_lap.","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Check the results:","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"# save estimation\nshowflow(estim_flow, figtitle=\"Single Estimated Uniform Flow\")\nsavefig(\"single_lena_estim_uni_flow.png\")\nnothing # hide","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Original Estimated\n(Image: ) (Image: )","category":"page"},{"location":"man/examples/examples/#Non-uniform-Smooth-Flow-1","page":"Examples","title":"Non-uniform Smooth Flow","text":"","category":"section"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"This how the algorithm performs on a non-uniform smoothly varying flow.","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"# save original\nshowflow(smooth_flow, figtitle=\"Original smooth flow\")\nsavefig(\"orig_smooth_flow.png\")","category":"page"},{"location":"man/examples/examples/#Chessboard-3","page":"Examples","title":"Chessboard","text":"","category":"section"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Run:","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"filter_half_size = 20\nwindow_size = [2*filter_half_size + 1, 2*filter_half_size + 1]\n\nestim_flow = single_lap(chess, chess_smooth_warped, filter_half_size, window_size)\nnothing # hide","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Check the results:","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"# save estimation\nshowflow(estim_flow, figtitle=\"Single Estimated Smooth Flow\")\nsavefig(\"single_chess_estim_smooth_flow.png\")\nnothing # hide","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Original Estimated\n(Image: ) (Image: )","category":"page"},{"location":"man/examples/examples/#Lena-3","page":"Examples","title":"Lena","text":"","category":"section"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Run:","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"filter_half_size = 20\nwindow_size = [2*filter_half_size + 1, 2*filter_half_size + 1]\n\nestim_flow = single_lap(lena, lena_smooth_warped, filter_half_size, window_size)\nnothing # hide","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Check the results:","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"# save estimation\nshowflow(estim_flow, figtitle=\"Single Estimated Smooth Flow\")\nsavefig(\"single_lena_estim_smooth_flow.png\")\nnothing # hide","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Original Estimated\n(Image: ) (Image: )","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"","category":"page"},{"location":"man/examples/examples/#polyfilter_lap-function-1","page":"Examples","title":"polyfilter_lap function","text":"","category":"section"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Here are examples of using the polyfilter_lap function to find the flow between the original and the warped image. I will show the results of the algorithm for an image warped by a uniform flow and a smoothly varying flow. (The code running is the same.)","category":"page"},{"location":"man/examples/examples/#Uniform-Flow-2","page":"Examples","title":"Uniform Flow","text":"","category":"section"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"This how the algorithm performs on a uniform flow.","category":"page"},{"location":"man/examples/examples/#Chessboard-4","page":"Examples","title":"Chessboard","text":"","category":"section"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Run:","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"filter_half_size = 20\nwindow_size = [2*filter_half_size + 1, 2*filter_half_size + 1]\n\nestim_flow, source_reg = polyfilter_lap(chess, chess_uni_warped, display=false)\nnothing # hide","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Check out polyfilter_lap.","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Check the results:","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"# save estimation\nshowflow(estim_flow, figtitle=\"Polyfilter Estimated Uniform Flow\")\nsavefig(\"polyfilter_chess_estim_uni_flow.png\")\nnothing # hide","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Original Estimated\n(Image: ) (Image: )","category":"page"},{"location":"man/examples/examples/#Lena-4","page":"Examples","title":"Lena","text":"","category":"section"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Run:","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"filter_half_size = 20\nwindow_size = [2*filter_half_size + 1, 2*filter_half_size + 1]\n\nestim_flow, source_reg = polyfilter_lap(lena, lena_uni_warped, display=false)\nnothing # hide","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Check out polyfilter_lap.","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Check the results:","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"# save estimation\nshowflow(estim_flow, figtitle=\"Polyfilter Estimated Uniform Flow\")\nsavefig(\"polyfilter_lena_estim_uni_flow.png\")\nnothing # hide","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Original Estimated\n(Image: ) (Image: )","category":"page"},{"location":"man/examples/examples/#Non-uniform-Smooth-2","page":"Examples","title":"Non-uniform Smooth","text":"","category":"section"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"This how the algorithm performs on a non-uniform smooth flow.","category":"page"},{"location":"man/examples/examples/#Chessboard-5","page":"Examples","title":"Chessboard","text":"","category":"section"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Run:","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"estim_flow, source_reg = polyfilter_lap(chess, chess_smooth_warped, display=false)\nnothing # hide","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Check the results:","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"# save estimation\nshowflow(estim_flow, figtitle=\"Polyfilter Estimated Smooth Flow\")\nsavefig(\"polyfilter_chess_estim_smooth_flow.png\")\nnothing # hide","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Original Estimated\n(Image: ) (Image: )","category":"page"},{"location":"man/examples/examples/#Lena-5","page":"Examples","title":"Lena","text":"","category":"section"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Run:","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"filter_half_size = 20\nwindow_size = [2*filter_half_size + 1, 2*filter_half_size + 1]\n\nestim_flow, source_reg = polyfilter_lap(lena, lena_smooth_warped, display=false)\nnothing # hide","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Check the results:","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"# save estimation\nshowflow(estim_flow, figtitle=\"Polyfilter Estimated Smooth Flow\")\nsavefig(\"polyfilter_lena_estim_smooth_flow.png\")\nnothing # hide","category":"page"},{"location":"man/examples/examples/#","page":"Examples","title":"Examples","text":"Original Estimated\n(Image: ) (Image: )","category":"page"},{"location":"lib/public/#Public-Documentation-1","page":"Public","title":"Public Documentation","text":"","category":"section"},{"location":"lib/public/#","page":"Public","title":"Public","text":"Documentation for LAP_julia.jl's public interface.","category":"page"},{"location":"lib/public/#","page":"Public","title":"Public","text":"See the Internals section of the manual for internal package docs covering all submodules.","category":"page"},{"location":"lib/public/#Index-1","page":"Public","title":"Index","text":"","category":"section"},{"location":"lib/public/#","page":"Public","title":"Public","text":"Pages = [\"public.md\"]","category":"page"},{"location":"lib/public/#Public-Interface-1","page":"Public","title":"Public Interface","text":"","category":"section"},{"location":"lib/public/#Types-1","page":"Public","title":"Types","text":"","category":"section"},{"location":"lib/public/#","page":"Public","title":"Public","text":"Modules = [LAP_julia, LAP_julia.lap, LAP_julia.visualise, LAP_julia.inpaint, LAP_julia.gradient_points, LAP_julia.data_gen, LAP_julia.interpolation]\nOrder = [:type]\nPrivate = false","category":"page"},{"location":"lib/public/#LAP_julia.Flow","page":"Public","title":"LAP_julia.Flow","text":"Flow{T} = Matrix{Complex{T}} where T <: Real\n\nFlow is a Matrix with elements that are Complex.\n\n\n\n\n\n","category":"type"},{"location":"lib/public/#LAP_julia.Image","page":"Public","title":"LAP_julia.Image","text":"Image{T} = Matrix{T} where T <: Real\n\nImage is a Matrix with elements that are Real.\n\n\n\n\n\n","category":"type"},{"location":"lib/public/#Functions-1","page":"Public","title":"Functions","text":"","category":"section"},{"location":"lib/public/#","page":"Public","title":"Public","text":"Modules = [LAP_julia, LAP_julia.lap, LAP_julia.visualise, LAP_julia.inpaint, LAP_julia.gradient_points, LAP_julia.data_gen, LAP_julia.interpolation]\nOrder = [:function]\nPrivate = false","category":"page"},{"location":"lib/public/#LAP_julia.classic_alg-NTuple{4,Any}","page":"Public","title":"LAP_julia.classic_alg","text":"classic_alg(img, imgw, fhs, window_size)\n\nPerform the single_lap algorithm with post-proccessing (inpainting and smoothing).\n\nSee also: single_lap, inpaint_nans!, smooth_with_gaussian\n\n\n\n\n\n","category":"method"},{"location":"lib/public/#LAP_julia.mean-Tuple{Any}","page":"Public","title":"LAP_julia.mean","text":"function mean(x)\n\nCalculate the mean of x.\n\n\n\n\n\n","category":"method"},{"location":"lib/public/#LAP_julia.lap.polyfilter_lap-Tuple{Array{T,2} where T<:Real,Array{T,2} where T<:Real}","page":"Public","title":"LAP_julia.lap.polyfilter_lap","text":"polyfilter_lap(target::Image, source::Image; filter_num::Integer=3, max_repeats::Integer=1, display::Bool=true)\n\nFind a transformation flow (complex displacment field), that transforms image source to image target.\n\nArguments\n\ntarget::Image: the image we want source to look like.\nsource::Image: warped image we want to transform into target.\nfilter_num::Integer=3: the number of basis filters used in single_lap calls (so far only =3 implemented).\nmax_repeats::Integer=1: the maximum number of times an iteration of one filter size can be repeated.\ndisplay::Bool=true: use verbose prints and return an array of figures.\ntimer::TimerOutput=TimerOutput(\"polyfilter_lap\"): Timer to time parts of the function.\n\nOutputs\n\nflow::Flow: is the complex vector field that transforms source closer to target.\nsource_reg::Image: is the image source transformed by flow.\n[figs::Matrix{Figure}: is a 2D array of PyPlot Figures which shows the work of the algorithm at each iteration.\n\nFor each iteration there are 3 Figures in this order: 1) current u_est, 2) newest addition to u_est Δ_u, 3) current source_reg.]\n\nDescribtion\n\nImplements the basic concept of Algorithm 2 from the paper without some features. It uses single_lap iteratively; in each iteration using the transformation estimated by single_lap to warp the source image closer to the target image and then using this warped closer image as the source image in the next iteration, while using progressively smaller filter_half_sizes to estimate even small and faster varying displacements.\n\nSee also: single_lap, imgshow,imgshowflow, warp_imgshowflow, Flow\n\n\n\n\n\n","category":"method"},{"location":"lib/public/#LAP_julia.lap.single_lap","page":"Public","title":"LAP_julia.lap.single_lap","text":"single_lap(image_1::Image, image_2::Image, filter_half_size::Integer, window, filter_num::Integer=3)\n\nReturn an estimate of a smoothly varying flow of size of image_1 which is the displacement that transforms image_2 closer to image_1.\n\nArguments:\n\nimage_1::Image: grayscale image 1.\nimage_2::Image: grayscale image 2.\nfilter_half_size: the half size of the base of the gaussian filters used.\nwindow: the size of the local window (list of 2 ints) usually same as filter_size.\nfilter_num::Integer=3: the number of basis filters used (so far only =3 implemented).\n\nSee also: polyfilter_lap, showflow, warp_imgshowflow, imgshowflow\n\n\n\n\n\n","category":"function"},{"location":"lib/public/#LAP_julia.visualise.imgshow-Tuple{Any}","page":"Public","title":"LAP_julia.visualise.imgshow","text":"imgshow(img; <keyword arguments>)\n\nReturn a figure with image img. Plot origin is in the botom left.\n\nArguments\n\nfig=nothing: add a figure to plot in. By defaults creates a blank new figure.\nfigtitle::String=\"Image\": add title to the figure.\nret::Symbol=:figure: set return object, by default returns Figure, other options: :pyobject returns a PyObject. (Using figure makes Juno directly plot.)\n\nSee also: showflow, imgshowflow, warp_imgshowflow\n\n\n\n\n\n","category":"method"},{"location":"lib/public/#LAP_julia.visualise.imgshowflow-Tuple{Any,Array{Complex{T},2} where T<:Real}","page":"Public","title":"LAP_julia.visualise.imgshowflow","text":"imgshowflow(img, flow; <keyword arguments>)\n\nReturn a figure with an image img and displacement field flow.\n\nArguments\n\nimg: the image to be plotted.\nflow::Flow: the vector flow to be plotted.\ndisp_type::Symbol=:full : display mode, either :full -> display all the vectors, or :sparse -> displays only the vectors above a threshold.\nskip_count=nothing: the number of vectors to skip between each displayed vector. By default set so that the output is 20  20 vectors.\nfig=nothing: add a figure to plot in. By defaults creates a blank new figure.\nmag::Real=1: magnify the plotted vectors.\nkey::Bool=true: add key with maximum vector length.\nfigtitle::String=\"Iamge with Flow\": add title to the figure.\nret::Symbol=:figure: set return object, by default returns Figure, other options: :pyobject returns a PyObject. (Using figure makes Juno directly plot.)\n\nSee also: imgshow, showflow, warp_imgshowflow\n\n\n\n\n\n","category":"method"},{"location":"lib/public/#LAP_julia.visualise.showflow-Tuple{Array{Complex{T},2} where T<:Real}","page":"Public","title":"LAP_julia.visualise.showflow","text":"showflow(flow::Flow; <keyword arguments>)\n\nReturn a figure with the displacement field flow by default skipping some vectors to make it easy to read.\n\nArguments\n\nflow::Flow: the vector flow to be plotted.\ndisp_type::Symbol=:full : display mode, either :full -> display all the vectors, or :sparse -> displays only the vectors above a threshold.\nskip_count=nothing: the number of vectors to skip between each displayed vector. By default set so that the output is 20  20 vectors.\nfig=nothing: add a figure to plot in. By defaults creates a blank new figure.\nmag::Real=1: magnify the plotted vectors.\nkey::Bool=true: add key with maximum vector length.\nfigtitle::String=\"Flow\": add title to the figure.\nret::Symbol=:figure: set return object, by default returns Figure, other options: :pyobject returns a PyObject. (Using figure makes Juno directly plot.)\n\nSee also: imgshow, imgshowflow, warp_imgshowflow\n\n\n\n\n\n","category":"method"},{"location":"lib/public/#LAP_julia.visualise.warp_imgshowflow-Tuple{Any,Array{Complex{T},2} where T<:Real}","page":"Public","title":"LAP_julia.visualise.warp_imgshowflow","text":"warp_imgshowflow(img, flow; <keyword arguments>)\n\nReturn a figure with an image and a displacement field, where the image is warped by the displacement field.\n\nArguments\n\nimg: the image to be plotted.\nflow::Flow: the vector flow to be plotted.\ndisp_type::Symbol=:full : display mode, either :full -> display all the vectors, or :sparse -> displays only the vectors above a threshold.\nskip_count=nothing: the number of vectors to skip between each displayed vector. By default set so that the output is 20  20 vectors.\nfig=nothing: add a figure to plot in. By defaults creates a blank new figure.\nmag::Real=1: magnify the plotted vectors.\nkey::Bool=true: add key with maximum vector length.\nfigtitle::String=\"Iamge with Flow\": add title to the figure.\nret::Symbol=:figure: set return object, by default returns Figure, other options: :pyobject returns a PyObject. (Using figure makes Juno directly plot.)\n\nSee also: imgshow, showflow, imgshowflow\n\n\n\n\n\n","category":"method"},{"location":"lib/public/#LAP_julia.inpaint.inpaint_nans!-Tuple{Array{Complex{T},2} where T<:Real}","page":"Public","title":"LAP_julia.inpaint.inpaint_nans!","text":"inpaint_nans!(flow::Flow)\n\nInpaint NaNs in flow using surrounding non-NaN values.\n\nReferences\n\nOliveira, Manuel & Bowen, Brian & McKenna, Richard & Chang, Yu-Sung. (2001). Fast Digital Image Inpainting.. 261-266. Here.\n\nSee also: showflow, Flow\n\n\n\n\n\n","category":"method"},{"location":"lib/public/#LAP_julia.gradient_points.find_edge_points-Tuple{Array{T,2} where T<:Real}","page":"Public","title":"LAP_julia.gradient_points.find_edge_points","text":"find_edge_points(img::Image; spacing::Int=10, number::Int=100, sigma=1, mask::BitArray{2}=[])\n\nGreadily locate number of points in img with the highest gradient magnitude. These points have will be atleast spacing pixels appart, they are returned as an array of CartesianIndex. A mask can be used to exclude some parts of img from the search.\n\nNote: sigma is the gaussian filter used to smooth img before looking for gradients.\n\n\n\n\n\n","category":"method"},{"location":"lib/public/#LAP_julia.data_gen.gen_chess","page":"Public","title":"LAP_julia.data_gen.gen_chess","text":"gen_chess(tile_size::Integer=50, board_size::Integer=4)\n\nCreate a chessboard image with board_size tiles in each dimension, where each tile is tile_size pixels in each dimension. Note that board_size has to be even.\n\nSee also: imgshow, gen_tiled_flow\n\n\n\n\n\n","category":"function"},{"location":"lib/public/#LAP_julia.data_gen.gen_init","page":"Public","title":"LAP_julia.data_gen.gen_init","text":"gen_init(type::Symbol=:lena; flow_args=[])\n\nCreate the usual testing data; img, imgw, flow.\n\nArguments\n\nimg_type::Symbol=:lena: what base image is used. [Options: :lena, :chess]\nflow_type::Symbol=:quad: what flow generation function is used. [Options: :tiled, :quad]\nflow_args=[]: arguments passed to the flow generation function besides the flow size.\n\nExamples\n\n# chess image, warped chess image, flow with maximal displacement 20 generated by the `gen_quad_flow` function\nimg, imgw, flow = gen_init(:chess, :quad, flow_args=[20])\n\n\n\n\n\n","category":"function"},{"location":"lib/public/#LAP_julia.data_gen.gen_quad_flow","page":"Public","title":"LAP_julia.data_gen.gen_quad_flow","text":"gen_quad_flow(img_size, max_magnitude=20)\n\nGenerate a smoothly varying locally constant random flow of size img_size and with a maximal displacement of max_magnitude using a quadratic function:\n\nf(z) = a + b*z + c*z^2\nz = x + y*i\nx y  (01)\n\nThe constants a, b and c are random numbers from the normal distribution with mean 0 and standard deviation 1. See also: showflow, gen_tiled_flow, Flow\n\n\n\n\n\n","category":"function"},{"location":"lib/public/#LAP_julia.data_gen.gen_tiled_flow-Union{Tuple{}, Tuple{Tuple{T,T}}, Tuple{T}, Tuple{Tuple{T,T},Real}, Tuple{Tuple{T,T},Real,Any}, Tuple{Tuple{T,T},Real,Any,Any}} where T<:Integer","page":"Public","title":"LAP_julia.data_gen.gen_tiled_flow","text":"gen_tiled_flow(flow_size::Tuple{T, T}=(200, 200), max_magnitude::Real=20, tile_size=nothing; filter_amp=nothing)::Flow where {T <: Integer}\n\nGenerate a smoothly varying random flow. The flow parameters are set by the function arguments.\n\nIt works by generating a tiled flow where each tile has a random uniform flow. Then it smooths these tiles by filtering with a gaussian.\n\nArguments\n\nflow_size::Tuple{T, T}=(200, 200): dimensions of the flow.\nmax_magnitude::Real=20: maximum allowed amplitude of the displacement.\ntile_size=nothing: size of random uniform flow tiles that make up the start matrix. (The larger the slower the flow.) Note: If set to flow_size or larger it will generate a uniform pixel shift in a random direction.\nfilter_amp=nothing: size of the gaussian filter which is used to smooth the random start matrix.\n\nSee also: showflow, Flow, gen_chess, gen_quad_flow\n\n\n\n\n\n","category":"method"},{"location":"lib/public/#LAP_julia.interpolation.interpolate_flow-Union{Tuple{T}, Tuple{Array{Complex{T},2} where T<:Real,Array{CartesianIndex,1}}, Tuple{Array{Complex{T},2} where T<:Real,Array{CartesianIndex,1},T}} where T<:ScatteredInterpolation.RadialBasisFunction","page":"Public","title":"LAP_julia.interpolation.interpolate_flow","text":"interpolate_flow(flow::Flow, inds::Array{CartesianIndex, 1}, method::T=Multiquadratic(2)) where {T <: ScatteredInterpolation.RadialBasisFunction}\n\nInterpolate a flow using the a Multiquadratic RBF with the parameter ε and using only the values at inds for the interpolation.\n\nExamples of method from ScatteredInterpolation:\n\nMultiquadratic(ɛ = 1)\n\nϕ(r) = sqrt1 + (ɛr)^2\n\nPolyharmonic(k = 1)\n\nϕ(r) = r^k k = 1 3 5 \n\nϕ(r) = r^k ln(r) k = 2 4 6 \n\n(See ScatteredInterpolation for more.)\n\nSee also: showflow, Flow\n\n\n\n\n\n","category":"method"},{"location":"lib/public/#LAP_julia.interpolation.warp_img-Tuple{Any,Any,Any}","page":"Public","title":"LAP_julia.interpolation.warp_img","text":"function warp_img(img, dx, dy; border_strat::Symbol=:replicate)\n\nWarp the image img by dx in x direction and by dy in y direction.\n\nborder_strat indicates how to act when the resulting coordinate outside of bounds of img. Values: :replicate, :zeros.\n\nSee also: showflow, imgshowflow, Flow\n\n\n\n\n\n","category":"method"},{"location":"#LAP_julia.jl-1","page":"LAP_julia.jl","title":"LAP_julia.jl","text":"","category":"section"},{"location":"#","page":"LAP_julia.jl","title":"LAP_julia.jl","text":"Image registration in Julia","category":"page"},{"location":"#Installation-1","page":"LAP_julia.jl","title":"Installation","text":"","category":"section"},{"location":"#","page":"LAP_julia.jl","title":"LAP_julia.jl","text":"To install paste this into a Julia terminal:","category":"page"},{"location":"#","page":"LAP_julia.jl","title":"LAP_julia.jl","text":"using Pkg; Pkg.add(PackageSpec(url=\"https://github.com/Kunz-David/LAP_julia\"))","category":"page"},{"location":"#","page":"LAP_julia.jl","title":"LAP_julia.jl","text":"note: Linux\nThe plotting functions use Julia's PyPlot module and Matplotlib has to be installed in your default Python. You can either install Matplotlib in your Python or let Julia use the Python it installed and manages. For that set ENV[PYTHON] to the Python installed by Julia. So something like this, will do the trick:ENV[\"PYTHON\"] = \"..ENTER USER.../.julia/conda/3/bin\"","category":"page"},{"location":"#Manual-Outline-1","page":"LAP_julia.jl","title":"Manual Outline","text":"","category":"section"},{"location":"#","page":"LAP_julia.jl","title":"LAP_julia.jl","text":"Pages = [\n    \"man/guide.md\",\n    \"man/examples.md\",\n    \"man/syntax.md\",\n    \"man/doctests.md\",\n    \"man/hosting.md\",\n    \"man/latex.md\",\n    \"man/contributing.md\",\n]\nDepth = 1","category":"page"},{"location":"#Library-Outline-1","page":"LAP_julia.jl","title":"Library Outline","text":"","category":"section"},{"location":"#","page":"LAP_julia.jl","title":"LAP_julia.jl","text":"Pages = [\"lib/public.md\", \"lib/private.md\"]","category":"page"}]
}
